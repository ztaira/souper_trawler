<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN">
<html xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
      <!--
This HTML is auto-generated from an M-file.
To make changes, update the M-file and republish this document.
      -->
      <title>fet1</title>
      <meta name="generator" content="MATLAB 7.5">
      <meta name="date" content="2009-11-17">
      <meta name="m-file" content="fet1"><style>

body {
  background-color: white;
  margin:10px;
}

h1 {
  color: #990000; 
  font-size: x-large;
}

h2 {
  color: #990000;
  font-size: medium;
}

/* Make the text shrink to fit narrow windows, but not stretch too far in 
wide windows. */ 
p,h1,h2,div.content div {
  max-width: 600px;
  /* Hack for IE6 */
  width: auto !important; width: 600px;
}

pre.codeinput {
  background: #EEEEEE;
  padding: 10px;
}
@media print {
  pre.codeinput {word-wrap:break-word; width:100%;}
} 

span.keyword {color: #0000FF}
span.comment {color: #228B22}
span.string {color: #A020F0}
span.untermstring {color: #B20000}
span.syscmd {color: #B28C00}

pre.codeoutput {
  color: #666666;
  padding: 10px;
}

pre.error {
  color: red;
}

p.footer {
  text-align: right;
  font-size: xx-small;
  font-weight: lighter;
  font-style: italic;
  color: gray;
}

  </style></head>
   <body>
      <div class="content">
         <h2>Contents</h2>
         <div>
            <ul>
               <li><a href="#2">Saturation Current</a></li>
               <li><a href="#3">Triode Current</a></li>
               <li><a href="#4">Boundary</a></li>
               <li><a href="#5">Actual current</a></li>
               <li><a href="#6">Circuit and load line</a></li>
               <li><a href="#7">Saturation Calculations</a></li>
               <li><a href="#8">Triode Calculations</a></li>
               <li><a href="#9">Test answers</a></li>
            </ul>
         </div><pre class="codeinput"><span class="comment">%%% fet1.m  FET Characteristic curves and bias</span>
kp=50e-6;w=10e-6;l=2e-6;vt0=0;
vdaxis=0:0.1:15;
vgaxis=0:1:5;
[vd,vg]=meshgrid(vdaxis,vgaxis);
const=kp*w/l
</pre><pre class="codeoutput">const =
   2.5000e-04
</pre><h2>Saturation Current<a name="2"></a></h2><pre class="codeinput">idsat=const*(vg-vt0).^2/2;
figure;plot(vdaxis,idsat*1e3);grid <span class="string">on</span>;
xlabel(<span class="string">'v_{DS}, Drain--Source Voltage, V'</span>);
ylabel(<span class="string">'i_{D}, Saturation Drain Current, mA'</span>);
moose=axis;
</pre><img vspace="5" hspace="5" src="fet1_01.png"> <h2>Triode Current<a name="3"></a></h2><pre class="codeinput">idtriode=const*((vg-vt0).*vd-vd.^2/2);
</pre><h2>Boundary<a name="4"></a></h2><pre class="codeinput">idboundary=const*vd.^2/2;
figure;plot(vdaxis,idsat*1e3);hold <span class="string">on</span>;
       plot(vdaxis,idtriode*1e3);
       plot(vdaxis,idboundary*1e3,<span class="string">'k'</span>);grid <span class="string">on</span>;
hold <span class="string">off</span>;
xlabel(<span class="string">'v_{DS}, Drain--Source Voltage, V'</span>);
ylabel(<span class="string">'i_{D}, Drain Current, mA'</span>);
axis(moose);
</pre><img vspace="5" hspace="5" src="fet1_02.png"> <h2>Actual current<a name="5"></a></h2><pre class="codeinput">id=idtriode.*(idtriode&gt;=idboundary)+idsat.*(idsat&lt;idboundary);
figure;plot(vdaxis,id*1e3);hold <span class="string">on</span>;
       plot(vdaxis,idboundary*1e3);grid <span class="string">on</span>;
hold <span class="string">off</span>;
xlabel(<span class="string">'v_{DS}, Drain--Source Voltage, V'</span>);
ylabel(<span class="string">'i_{D}, Drain Current, mA'</span>);
axis(moose);
</pre><img vspace="5" hspace="5" src="fet1_03.png"> <h2>Circuit and load line<a name="6"></a></h2><pre class="codeinput">vdd=12;r=4800;
imax=vdd/r;
figure;plot(vdaxis,idsat*1e3);hold <span class="string">on</span>;
       plot(vdaxis,idtriode*1e3);
       plot(vdaxis,idboundary*1e3,<span class="string">'k'</span>);
       plot([0,vdd],[imax*1e3,0],<span class="string">'m'</span>);grid <span class="string">on</span>;
hold <span class="string">off</span>;
xlabel(<span class="string">'v_{DS}, Drain--Source Voltage, V'</span>);
ylabel(<span class="string">'i_{D}, Drain Current, mA'</span>);
axis(moose);
</pre><img vspace="5" hspace="5" src="fet1_04.png"> <h2>Saturation Calculations<a name="7"></a></h2><pre class="codeinput">vgdemo=4;

clear <span class="string">iddemo</span> <span class="string">vddemo</span>
iddemo(1)=const*(vgdemo-vt0).^2/2
vddemo(1)=vdd-iddemo(1)*r
</pre><pre class="codeoutput">iddemo =
   2.0000e-03
vddemo =
   2.4000e+00
</pre><h2>Triode Calculations<a name="8"></a></h2><pre class="codeinput">a=const*r^2/2
b=1+const*(vgdemo-vt0)*r-const*vdd*r
c=const/2*vdd^2-const*(vgdemo-vt0)*vdd
<span class="comment">% No solutions if argsrt&lt;0, one if argsqrt=0, two if argsqrt&gt;0</span>
argsqrt=b^2-4*a*c
<span class="comment">%</span>
<span class="keyword">if</span>(argsqrt&gt;=0)
  iddemo(2)=(-b-sqrt(argsqrt))/(2*a);
  vddemo(2)=vdd-iddemo(2)*r;
<span class="keyword">end</span>;
<span class="keyword">if</span>(argsqrt&gt;0)
  iddemo(3)=(-b+sqrt(argsqrt))/(2*a);
  vddemo(3)=vdd-iddemo(3)*r;
<span class="keyword">end</span>;

vddemo
iddemo
</pre><pre class="codeoutput">a =
        2880
b =
  -8.6000e+00
c =
   6.0000e-03
argsqrt =
   4.8400e+00
vddemo =
   2.4000e+00   6.6667e+00   3.0000e+00
iddemo =
   2.0000e-03   1.1111e-03   1.8750e-03
</pre><h2>Test answers<a name="9"></a></h2><pre class="codeinput">test(1)=(iddemo(1)&lt;const*vddemo(1)^2/2);

test(2)=(iddemo(2)&gt;const*vddemo(2)^2/2);
test(3)=(iddemo(3)&gt;const*vddemo(3)^2/2);

vddemo
iddemo
idboundarydemo=const*vddemo.^2/2
comparison=[<span class="string">'  &lt;  '</span>,<span class="string">'  &gt;  '</span>,<span class="string">'  &gt;  '</span>]
test


figure;plot(vdaxis,idsat*1e3);hold <span class="string">on</span>;
       plot(vdaxis,idtriode*1e3);
       plot(vdaxis,idboundary*1e3,<span class="string">'k'</span>);
       plot([0,vdd],[imax*1e3,0],<span class="string">'m'</span>);
       plot(vddemo,iddemo*1e3,<span class="string">'o'</span>);
       plot(vddemo(find(test&gt;0)),iddemo(find(test&gt;0))*1e3,<span class="string">'*'</span>);grid <span class="string">on</span>;
hold <span class="string">off</span>;
xlabel(<span class="string">'v_{DS}, Drain--Source Voltage, V'</span>);
ylabel(<span class="string">'i_{D}, Drain Current, mA'</span>);
axis(moose);
</pre><pre class="codeoutput">vddemo =
   2.4000e+00   6.6667e+00   3.0000e+00
iddemo =
   2.0000e-03   1.1111e-03   1.8750e-03
idboundarydemo =
   7.2000e-04   5.5556e-03   1.1250e-03
comparison =
  &lt;    &gt;    &gt;  
test =
     0     0     1
</pre><img vspace="5" hspace="5" src="fet1_05.png"> <p class="footer"><br>
            Published with MATLAB&reg; 7.5<br></p>
      </div>
      <!--
##### SOURCE BEGIN #####
%%% fet1.m  FET Characteristic curves and bias
kp=50e-6;w=10e-6;l=2e-6;vt0=0;
vdaxis=0:0.1:15;
vgaxis=0:1:5;
[vd,vg]=meshgrid(vdaxis,vgaxis);
const=kp*w/l

%% Saturation Current
idsat=const*(vg-vt0).^2/2;
figure;plot(vdaxis,idsat*1e3);grid on;
xlabel('v_{DS}, DrainREPLACE_WITH_DASH_DASHSource Voltage, V');
ylabel('i_{D}, Saturation Drain Current, mA');
moose=axis;

%% Triode Current
idtriode=const*((vg-vt0).*vd-vd.^2/2);

%% Boundary
idboundary=const*vd.^2/2;
figure;plot(vdaxis,idsat*1e3);hold on;
       plot(vdaxis,idtriode*1e3);
       plot(vdaxis,idboundary*1e3,'k');grid on;
hold off;
xlabel('v_{DS}, DrainREPLACE_WITH_DASH_DASHSource Voltage, V');
ylabel('i_{D}, Drain Current, mA');
axis(moose);

%% Actual current
id=idtriode.*(idtriode>=idboundary)+idsat.*(idsat<idboundary);
figure;plot(vdaxis,id*1e3);hold on;
       plot(vdaxis,idboundary*1e3);grid on;
hold off;
xlabel('v_{DS}, DrainREPLACE_WITH_DASH_DASHSource Voltage, V');
ylabel('i_{D}, Drain Current, mA');
axis(moose);

%%  Circuit and load line
vdd=12;r=4800;
imax=vdd/r;
figure;plot(vdaxis,idsat*1e3);hold on;
       plot(vdaxis,idtriode*1e3);
       plot(vdaxis,idboundary*1e3,'k');
       plot([0,vdd],[imax*1e3,0],'m');grid on;
hold off;
xlabel('v_{DS}, DrainREPLACE_WITH_DASH_DASHSource Voltage, V');
ylabel('i_{D}, Drain Current, mA');
axis(moose);

%% Saturation Calculations
%
vgdemo=4;

clear iddemo vddemo
iddemo(1)=const*(vgdemo-vt0).^2/2
vddemo(1)=vdd-iddemo(1)*r

%% Triode Calculations
a=const*r^2/2
b=1+const*(vgdemo-vt0)*r-const*vdd*r
c=const/2*vdd^2-const*(vgdemoREPLACE_WITH_DASH_DASHvt0)*vdd
% No solutions if argsrt<0, one if argsqrt=0, two if argsqrt>0
argsqrt=b^2-4*a*c
%
if(argsqrt>=0)
  iddemo(2)=(-b-sqrt(argsqrt))/(2*a);
  vddemo(2)=vdd-iddemo(2)*r;
end;
if(argsqrt>0)
  iddemo(3)=(-b+sqrt(argsqrt))/(2*a);
  vddemo(3)=vdd-iddemo(3)*r;
end;

vddemo
iddemo

%% Test answers
test(1)=(iddemo(1)<const*vddemo(1)^2/2);

test(2)=(iddemo(2)>const*vddemo(2)^2/2);
test(3)=(iddemo(3)>const*vddemo(3)^2/2);

vddemo
iddemo
idboundarydemo=const*vddemo.^2/2
comparison=['  <  ','  >  ','  >  ']
test


figure;plot(vdaxis,idsat*1e3);hold on;
       plot(vdaxis,idtriode*1e3);
       plot(vdaxis,idboundary*1e3,'k');
       plot([0,vdd],[imax*1e3,0],'m');
       plot(vddemo,iddemo*1e3,'o');
       plot(vddemo(find(test>0)),iddemo(find(test>0))*1e3,'*');grid on;
hold off;
xlabel('v_{DS}, DrainREPLACE_WITH_DASH_DASHSource Voltage, V');
ylabel('i_{D}, Drain Current, mA');
axis(moose);

##### SOURCE END #####
-->
   </body>
</html>
